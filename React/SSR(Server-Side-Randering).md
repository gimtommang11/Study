# :bookmark_tabs: SSR(Server-Side-Randaring)

UI를 서버에서 랜더링하는 것.

CSR(Client-Side-Randering)이 나오기 전의 랜더링 방식이다.

### 랜더링 방식

서버 쪽에서 초기 랜더링을 진행하며, 서버에  새로운 페이지에 대한 요청을 하면 서버에서 html파일을 제공하는 방식이다.

### CSR과의 차이

#### CSR(Client-Side-Randaring)이란?

CSR(Client-Side-Randering)은 SPA(Single-Page-Application)이 등장함으로써 나타났다.

 처음에 한번 전체 페이지를 로딩한 이후에 데이터만 변경하여 사용하는 SPA에 맞춰서, 서버는 단지 json파일을 보내주고 클라이언트에서 html을 바꾸는 역할을 하는 CSR이 등장했다. 

처음에 모두 다운받기 때문에 초기 로딩 속도가 오래걸려도, 그 후에는 빠른 속도를 지원한다.

#### 차이점

둘은 랜더링 방식에서 큰 차이가 있는데, **SSR**에서는 html을 전달받고 서버쪽에서 초기 랜더링을 해준다., 

**CSR** 방식은 서버에서 html과 js를 모두 다운받은 후, js가 실행되고, 리액트 컴포넌트가 랜더링 된다.. 랜더링 된 후에 뷰를 볼 수 있다. 그전에는 서버에서 지원하는 빈 배경만이 보인다.



### 장점

 - **검색엔진 최적화 가능**

   : CSR에서의 고질적인 문제인데, 웹사이트에서 크롤링을 진행할 때 CSR에서는 JS가 실행 된 후에 랜더링이 진행되어서 js가 실행되지 않는 환경에서는 페이지가 정상동작 되지 않아서 검색 앤진이 정상적으로 내용을 수집할 수 없다. 하지만 SSR에서는 서버에서 초기 랜더링을 지원해주기 때문에 검색앤진에서 내용을 정상적으로 수집할 수 있다.

- **초기 랜더링 성능 개선**

  : JS 파일이 로딩되고 실행되기까지 빈 배경을 보아야 하는 CSR과 다르게 SSR에서는 서버상에서 랜더링해주는 html이 있기 때문에 사용자들의 대기시간이 최소화됩니다.

### 단점

- **서버 리소스 사용***

  : 브라우저가 하는 일을 서버가 대신 처리하는것이기 때문에 수많은 사용자가 동시에 접속하면 과부화 될 수도 있다. 이는 `로드밸런싱`과 `캐싱`을 통해 성능 최적화를 할 수 있다.

- **복잡해지는 구조, 고려해야 할 사항 많아짐** \

- **페이지 전환의 문제**

  : 페이지가 전환되고, 인터렉션이 발성 할 때마다 서버에 리퀘스트를 보내 해결해야 하기 때문이다.

### 코드 스플리팅과의 충돌

1. SSR 브라우저 나타남
2. JS 파일 로딩 시작
3. JS 실행, 불러오지 않은 컴포넌트 null로 렌더링
4. 코드 스플리팅 된 컴포넌트 사라짐
5. 코드 스플리팅 된 컴포넌트 로딩 된 이후 제대로 나타남

=> 페이지에 깜빡임이 발생함,  라우트 경로마다 코드 스플리팅된 파일 중에서 필요한 모든 파일을 브라우저에서 렌더링하기 전에 미리 불러와야 함



참고자료

리액트를 다루는 기술- 벨로퍼트

[서버 사이드 랜더링, 클라이언트 사이드 랜더링-jaro](https://jaroinside.tistory.com/24)

[서버 사이드 랜더링 그리고 클라이언트 사이드 랜더링-jbee](https://asfirstalways.tistory.com/244)